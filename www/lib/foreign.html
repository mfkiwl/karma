<html><head><title>Package: foreign</title></head> 
<body>
<center><h1>The "foreign" Package</h1></center>    These routines convert between the Karma data format and foreign data
    formats.
<p><b>Library:</b> karma
<br><b>Link With:</b> -lkarma
<br><p><a name=foreign></a></table><h4>Functions</h4><table><tr><td><a href=foreign.html#foreign_fits_read_header>foreign_fits_read_header</a></td><td>Read a FITS header.
</td></tr>
<tr><td><a href=foreign.html#foreign_fits_read_data>foreign_fits_read_data</a></td><td>Read data in a FITS file.
</td></tr>
<tr><td><a href=foreign.html#foreign_gipsy_test>foreign_gipsy_test</a></td><td>Test if a file is part of a GIPSY file set.
</td></tr>
<tr><td><a href=foreign.html#foreign_gipsy_read_header>foreign_gipsy_read_header</a></td><td>Read a GIPSY file header.
</td></tr>
<tr><td><a href=foreign.html#foreign_gipsy_read_data>foreign_gipsy_read_data</a></td><td>Read data in a GIPSY image file.
</td></tr>
<tr><td><a href=foreign.html#foreign_gipsy_read>foreign_gipsy_read</a></td><td>Read a GIPSY file set.
</td></tr>
<tr><td><a href=foreign.html#foreign_guess_and_read>foreign_guess_and_read</a></td><td>Guess file type and read.
</td></tr>
<tr><td><a href=foreign.html#foreign_miriad_test>foreign_miriad_test</a></td><td>Test if a directory is a Miriad Image file.
</td></tr>
<tr><td><a href=foreign.html#foreign_miriad_read_header>foreign_miriad_read_header</a></td><td>Read a Miriad Image file header.
</td></tr>
<tr><td><a href=foreign.html#foreign_miriad_read>foreign_miriad_read</a></td><td>Read a Miriad image file.
</td></tr>
<tr><td><a href=foreign.html#foreign_guess_format_from_filename>foreign_guess_format_from_filename</a></td><td>Attempt to guess the format of a file by examining its filename.
</td></tr>
<tr><td><a href=foreign.html#foreign_ppm_read>foreign_ppm_read</a></td><td>Read a colour image in PPM format from a channel.
</td></tr>
<tr><td><a href=foreign.html#foreign_ppm_write>foreign_ppm_write</a></td><td>Write a colour image to a channel in PPM format
</td></tr>
<tr><td><a href=foreign.html#foreign_sunras_read>foreign_sunras_read</a></td><td>Read an image in Sun rasterfile format from a channel.
</td></tr>
<tr><td><a href=foreign.html#foreign_sunras_write>foreign_sunras_write</a></td><td>Write a colour image to a channel in Sun rasterfile format
</td></tr>
</table><h4>Tables</h4><table><tr><td><a href=foreign.html#FOREIGN_ATT_FITS_READ_HEADER>FOREIGN_ATT_FITS_READ_HEADER</a></td><td>List of attributes for reading FITS headers
</td></tr>
<tr><td><a href=foreign.html#FOREIGN_ATT_FITS_READ_DATA>FOREIGN_ATT_FITS_READ_DATA</a></td><td>List of attributes for reading FITS data
</td></tr>
<tr><td><a href=foreign.html#FOREIGN_ATT_GUESS>FOREIGN_ATT_GUESS</a></td><td>List of attributes for guessing and reading data
</td></tr>
<tr><td><a href=foreign.html#FOREIGN_ATT_MIRIAD_READ_HEADER>FOREIGN_ATT_MIRIAD_READ_HEADER</a></td><td>List of attributes for reading Miriad Image headers
</td></tr>
<tr><td><a href=foreign.html#FOREIGN_ATT_MIRIAD_READ_DATA>FOREIGN_ATT_MIRIAD_READ_DATA</a></td><td>List of attributes for reading Miriad Image data
</td></tr>
<tr><td><a href=foreign.html#FOREIGN_ATT_MIRIAD_READ>FOREIGN_ATT_MIRIAD_READ</a></td><td>List of attributes for reading Miriad Image files
</td></tr>
<tr><td><a href=foreign.html#FOREIGN_TYPES>FOREIGN_TYPES</a></td><td>List of foreign file types
</td></tr>
<tr><td><a href=foreign.html#FOREIGN_ATT_PPM_READ>FOREIGN_ATT_PPM_READ</a></td><td>List of attributes for reading PPM files
</td></tr>
<tr><td><a href=foreign.html#FOREIGN_ATT_PPM_WRITE>FOREIGN_ATT_PPM_WRITE</a></td><td>List of attributes for writing PPM files
</td></tr>
<tr><td><a href=foreign.html#FOREIGN_ATT_SUNRAS_READ>FOREIGN_ATT_SUNRAS_READ</a></td><td>List of attributes for reading Sun Rasterfile files
</td></tr>
<tr><td><a href=foreign.html#FOREIGN_ATT_SUNRAS_WRITE>FOREIGN_ATT_SUNRAS_WRITE</a></td><td>List of attributes for writing Sun Rasterfile files
</td></tr>
</table><p><hr><center><h2>Functions</h2></center><hr> <a name=foreign_fits_read_header></a> multi_array *
 <b>foreign_fits_read_header</b><i>    (Channel channel, flag data_alloc,
				       flag convert_int_to_float,
				       flag sanitise, ...)
</i><br><p>    This routine will read the header of a FITS file from a channel.
    The data section is NOT read.
<p><b>Parameters:</b><ul><li><i>channel :</i> 
    The channel to read from.
<br><li><i>data_alloc :</i> 
    If TRUE, the data space is allocated.
<br><li><i>convert_int_to_float :</i> 
    If TRUE, integer FITS data is converted to floating
    point data.
<br><li><i>sanitise :</i> 
    If TRUE, FITS axes with length 1 are ignored. This is highly
    recommended.
<br><li><i>... :</i> 
    The optional attributes are given as pairs of attribute-key
    attribute-value pairs. This list must be terminated with
    FA_FITS_READ_HEADER_END. See <a href=foreign.html#FOREIGN_ATT_FITS_READ_HEADER>FOREIGN_ATT_FITS_READ_HEADER</a> for a list of
    defined attributes.
<br></ul><b>Returns:</b>     A pointer to the multi_array data structure on success, else
    NULL.
<br><b>Multithreading Level:</b> Unsafe<br><p><hr> <a name=foreign_fits_read_data></a> flag
 <b>foreign_fits_read_data</b><i>    (Channel channel, multi_array *multi_desc,
			     char *data, uaddr num_values, ...)
</i><br><p>    This routine will read the data of a FITS file from a channel.
    The header section is NOT read.
<p><b>Parameters:</b><ul><li><i>channel :</i> 
    The channel to read from.
<br><li><i>multi_desc :</i> 
    The Karma data structure to write the data into.
<br><li><i>data :</i> 
    An alternate data array to write the FITS data into. If this is
    NULL, the routine will write the data into the Karma data structure.
<br><li><i>num_values :</i> 
    The number of values to write into the data array. This is
    only used when data is not NULL.
<br><li><i>... :</i> 
    The optional attributes are given as pairs of attribute-key
    attribute-value pairs. This list must be terminated with
    FA_FITS_READ_DATA_END. See <a href=foreign.html#FOREIGN_ATT_FITS_READ_DATA>FOREIGN_ATT_FITS_READ_DATA</a> for a list of
    defined attributes.
<br></ul><b>Returns:</b>     TRUE on success, else FALSE.
<br><b>Multithreading Level:</b> Unsafe<br><p><hr> <a name=foreign_gipsy_test></a> flag
 <b>foreign_gipsy_test</b><i>    (CONST char *filename)
</i><br><p>    Test if a file is part of a GIPSY file set.
<p><b>Parameters:</b><ul><li><i>filename :</i> 
    The name of any file in the GIPSY file set.
<br></ul><b>Returns:</b>     TRUE if the file is part of a GIPSY file set, else FALSE.
<br><b>Multithreading Level:</b> Unsafe<br><p><hr> <a name=foreign_gipsy_read_header></a> multi_array *
 <b>foreign_gipsy_read_header</b><i>    (Channel channel, flag data_alloc,
					flag sanitise, ...)
</i><br><p>    This routine will read the header of a GIPSY file from a channel.
    The data section is NOT read.
<p><b>Parameters:</b><ul><li><i>channel :</i> 
    The channel to read from.
<br><li><i>data_alloc :</i> 
    If TRUE, the data space is allocated.
<br><li><i>sanitise :</i> 
    If TRUE, GIPSY axes with length 1 are ignored. This is highly
    recommended.
<br><li><i>... :</i> 
    The optional attributes are given as pairs of attribute-key
    attribute-value pairs. This list must be terminated with
    FA_GIPSY_READ_HEADER_END. See <a href=foreign.html#FOREIGN_ATT_GIPSY_READ_HEADER>FOREIGN_ATT_GIPSY_READ_HEADER</a> for a
    list of defined attributes.
<br></ul><b>Returns:</b>     A pointer to the multi_array data structure on success, else
    NULL.
<br><b>Multithreading Level:</b> Unsafe<br><p><hr> <a name=foreign_gipsy_read_data></a> flag
 <b>foreign_gipsy_read_data</b><i>    (Channel channel, multi_array *multi_desc,
			      char *data, uaddr num_values, ...)
</i><br><p>    This routine will read the data of a GIPSY image file from a
    channel.
<p><b>Parameters:</b><ul><li><i>channel :</i> 
    The channel to read from.
<br><li><i>multi_desc :</i> 
    The Karma data structure to write the data into.
<br><li><i>data :</i> 
    An alternate data array to write the FITS data into. If this is
    NULL, the routine will write the data into the Karma data structure.
<br><li><i>num_values :</i> 
    The number of values to write into the data array. This is
    only used when data is not NULL.
<br><li><i>... :</i> 
    The optional attributes are given as pairs of attribute-key
    attribute-value pairs. This list must be terminated with
    FA_GIPSY_READ_DATA_END. See <a href=foreign.html#FOREIGN_ATT_GIPSY_READ_DATA>FOREIGN_ATT_GIPSY_READ_DATA</a> for a list of
    defined attributes.
<br></ul><b>Returns:</b>     TRUE on success, else FALSE.
<br><b>Multithreading Level:</b> Unsafe<br><p><hr> <a name=foreign_gipsy_read></a> multi_array *
 <b>foreign_gipsy_read</b><i>    (CONST char *filename, flag sanitise, ...)
</i><br><p>    Read a GIPSY file set.
<p><b>Parameters:</b><ul><li><i>filename :</i> 
    The name of any file in the GIPSY file set.
<br><li><i>sanitise :</i> 
    If TRUE, Miriad axes with length 1 are ignored. This is highly
    recommended.
<br><li><i>... :</i> 
    The optional attributes are given as pairs of attribute-key
    attribute-value pairs. This list must be terminated with
    FA_GIPSY_READ_END. See <a href=foreign.html#FOREIGN_ATT_GIPSY_READ>FOREIGN_ATT_GIPSY_READ</a> for a list of defined
    attributes.
<br></ul><b>Returns:</b>     A multi_array descriptor on success, else NULL.
<br><b>Multithreading Level:</b> Unsafe<br><p><hr> <a name=foreign_guess_and_read></a> multi_array *
 <b>foreign_guess_and_read</b><i>    (CONST char *filename,
				     unsigned int mmap_option, flag writeable,
				     unsigned int *ftype, ...)
</i><br><p>    This routine will attempt to guess the filetype of a file and
    in the file, converting to the Karma data format if possible.
<p><b>Parameters:</b><ul><li><i>filename :</i> 
    The name of the file to read.
<br><li><i>mmap_option :</i> 
    This has the same meaning as for the <dsxfr_get_multi>
    routine.
<br><li><i>writeable :</i> 
    This has the same meaning as for the <dsxfr_get_multi> routine.
<br><li><i>ftype :</i> 
    The type of the file that was read in is written here.
<br><li><i>... :</i> 
    The optional attributes are given as pairs of attribute-key
    attribute-value pairs. This list must terminated with FA_GUESS_READ_END.
    See <a href=foreign.html#FOREIGN_ATT_GUESS>FOREIGN_ATT_GUESS</a> for a list of defined attributes.
<br></ul><b>Returns:</b>     A pointer to the multi_array data structure on success, else
    NULL.
<br><b>Multithreading Level:</b> Unsafe<br><p><hr> <a name=foreign_miriad_test></a> flag
 <b>foreign_miriad_test</b><i>    (CONST char *dirname)
</i><br><p>    Test if a directory is a Miriad Image file.
<p><b>Parameters:</b><ul><li><i>dirname :</i> 
    The directory name of the Miriad dataset name.
<br></ul><b>Returns:</b>     TRUE if the directory is a Miriad Image file, else FALSE.
<br><b>Multithreading Level:</b> Unsafe<br><p><hr> <a name=foreign_miriad_read_header></a> multi_array *
 <b>foreign_miriad_read_header</b><i>    (Channel channel, flag data_alloc,
					 flag sanitise, ...)
</i><br><p>    This routine will read the header of a Miriad Image file from a
    channel. The data section is NOT read.
<p><b>Parameters:</b><ul><li><i>channel :</i> 
    The channel to read from.
<br><li><i>data_alloc :</i> 
    If TRUE, the data space is allocated.
<br><li><i>sanitise :</i> 
    If TRUE, Miriad axes with length 1 are ignored. This is highly
    recommended.
<br><li><i>... :</i> 
    The optional attributes are given as pairs of attribute-key
    attribute-value pairs. This list must be terminated with
    FA_MIRIAD_READ_HEADER_END. See <a href=foreign.html#FOREIGN_ATT_MIRIAD_READ_HEADER>FOREIGN_ATT_MIRIAD_READ_HEADER</a> for a
    list of defined attributes.
<br></ul><b>Returns:</b>     A pointer to the multi_array data structure on success, else
    NULL.
<br><b>Multithreading Level:</b> Unsafe<br><p><hr> <a name=foreign_miriad_read></a> multi_array *
 <b>foreign_miriad_read</b><i>    (CONST char *dirname, flag sanitise, ...)
</i><br><p>    Read a Miriad image file.
<p><b>Parameters:</b><ul><li><i>dirname :</i> 
    The directory name of the Miriad dataset name.
<br><li><i>sanitise :</i> 
    If TRUE, Miriad axes with length 1 are ignored. This is highly
    recommended.
<br><li><i>... :</i> 
    The optional attributes are given as pairs of attribute-key
    attribute-value pairs. This list must be terminated with
    FA_MIRIAD_READ_END. See <a href=foreign.html#FOREIGN_ATT_MIRIAD_READ>FOREIGN_ATT_MIRIAD_READ</a> for a list of defined
    attributes.
<br></ul><b>Returns:</b>     A multi_array descriptor on success, else NULL.
<br><b>Multithreading Level:</b> Unsafe<br><p><hr> <a name=foreign_guess_format_from_filename></a> unsigned int
 <b>foreign_guess_format_from_filename</b><i>    (CONST char *filename)
</i><br><p>    Attempt to guess the format of a file by examining its filename.
<p><b>Parameters:</b><ul><li><i>filename :</i> 
    The name of the file.
<br></ul><b>Returns:</b>     A value indicating the format of the file. The value
    FOREIGN_FILE_FORMAT_KARMA is returned if the extension is ".kf". See
    <a href=foreign.html#FOREIGN_TYPES>FOREIGN_TYPES</a> for a list of possible values.
<br><b>Multithreading Level:</b> Unsafe<br><p><hr> <a name=foreign_ppm_read></a> multi_array *
 <b>foreign_ppm_read</b><i>    (Channel channel, ...)
</i><br><p>    Read a colour image in PPM format from a channel.
<p><b>Parameters:</b><ul><li><i>channel :</i> 
    The channel to read from.
<br><li><i>... :</i> 
    The optional attributes are given as pairs of attribute-key
    attribute-value pairs. This list must be terminated with FA_PPM_READ_END.
    See <a href=foreign.html#FOREIGN_ATT_PPM_READ>FOREIGN_ATT_PPM_READ</a> for a list of defined attributes.
<br></ul><b>Returns:</b>     A pointer to the multi_array data structure on success, else NULL
<br><b>Multithreading Level:</b> Unsafe<br><p><hr> <a name=foreign_ppm_write></a> flag
 <b>foreign_ppm_write</b><i>    (Channel channel, multi_array *multi_desc, flag binary,
			...)
</i><br><p>    Write a colour image to a channel in PPM format
<p><b>Parameters:</b><ul><li><i>channel :</i> 
    The channel to write to. The channel is not flushed.
<br><li><i>multi_desc :</i> 
    The multi_array descriptor pointer. The routine will find a
    TrueColour image or a PseudoColour image within the data structure.
<br><li><i>binary :</i> 
    If TRUE, the pixels will be written in binary mode.
<br><li><i>... :</i> 
    The optional attributes are given as pairs of attribute-key
    attribute-value pairs. This list must be terminated with FA_PPM_WRITE_END.
    See <a href=foreign.html#FOREIGN_ATT_PPM_WRITE>FOREIGN_ATT_PPM_WRITE</a> for a list of defined attributes.
<br></ul><b>Returns:</b>     TRUE on succes, else FALSE.
<br><b>Multithreading Level:</b> Unsafe<br><p><hr> <a name=foreign_sunras_read></a> multi_array *
 <b>foreign_sunras_read</b><i>    (Channel channel, ...)
</i><br><p>    Read an image in Sun rasterfile format from a channel.
<p><b>Parameters:</b><ul><li><i>channel :</i> 
    The channel to read from.
<br><li><i>... :</i> 
    The optional attributes are given as pairs of attribute-key
    attribute-value pairs. This list must be terminated with
    FA_SUNRAS_READ_END. See <a href=foreign.html#FOREIGN_ATT_SUNRAS_READ>FOREIGN_ATT_SUNRAS_READ</a> for a list of defined
    attributes.
<br></ul><b>Returns:</b>     A pointer to the multi_array data structure on success, else NULL
<br><b>Multithreading Level:</b> Unsafe<br><p><hr> <a name=foreign_sunras_write></a> flag
 <b>foreign_sunras_write</b><i>    (Channel channel, multi_array *multi_desc, ...)
</i><br><p>    Write a colour image to a channel in Sun rasterfile format
<p><b>Parameters:</b><ul><li><i>channel :</i> 
    The channel to write to. The channel is not flushed.
<br><li><i>multi_desc :</i> 
    The multi_array descriptor pointer. The routine will find a
    TrueColour image or a PseudoColour image within the data structure.
<br><li><i>... :</i> 
    The optional attributes are given as pairs of attribute-key
    attribute-value pairs. This list must be terminated with
    FA_SUNRAS_WRITE_END. See <a href=foreign.html#FOREIGN_ATT_SUNRAS_WRITE>FOREIGN_ATT_SUNRAS_WRITE</a> for a list of defined
    attributes.
<br></ul><b>Returns:</b>     TRUE on succes, else FALSE.
<br><b>Multithreading Level:</b> Unsafe.
<br><p><hr><center><h2>Tables</h2></center><hr> <a name=FOREIGN_ATT_FITS_READ_HEADER><b>FOREIGN_ATT_FITS_READ_HEADER</b></a><p> <table><tr><td>Name                       </td><td>Type  </td><td>Meaning
</td></tr><tr><td>
</td></tr><tr><td>FA_FITS_READ_HEADER_END    </td><td>      </td><td>End of varargs list
</table><p><hr> <a name=FOREIGN_ATT_FITS_READ_DATA><b>FOREIGN_ATT_FITS_READ_DATA</b></a><p> <table><tr><td>Name                         </td><td>Type            </td><td>Meaning
</td></tr><tr><td>
</td></tr><tr><td>FA_FITS_READ_DATA_END        </td><td>                </td><td>End of varargs list
</td></tr><tr><td>FA_FITS_READ_DATA_NUM_BLANKS </td><td>unsigned long * </td><td>Number of blank values found
</table><p><hr> <a name=FOREIGN_ATT_GUESS><b>FOREIGN_ATT_GUESS</b></a><p> <table><tr><td>Name                         </td><td>Type    </td><td>Meaning
</td></tr><tr><td>
</td></tr><tr><td>FA_GUESS_READ_END            </td><td>        </td><td>End of varargs list
</td></tr><tr><td>FA_GUESS_READ_FITS_TO_FLOAT  </td><td>flag    </td><td>Convert FITS data to floating point
</table><p><hr> <a name=FOREIGN_ATT_MIRIAD_READ_HEADER><b>FOREIGN_ATT_MIRIAD_READ_HEADER</b></a><p> <table><tr><td>Name                         </td><td>Type    </td><td>Meaning
</td></tr><tr><td>
</td></tr><tr><td>FA_MIRIAD_READ_HEADER_END    </td><td>        </td><td>End of varargs list
</table><p><hr> <a name=FOREIGN_ATT_MIRIAD_READ_DATA><b>FOREIGN_ATT_MIRIAD_READ_DATA</b></a><p> <table><tr><td>Name                           </td><td>Type            </td><td>Meaning
</td></tr><tr><td>
</td></tr><tr><td>FA_MIRIAD_READ_DATA_END        </td><td>                </td><td>End of varargs list
</td></tr><tr><td>FA_MIRIAD_READ_DATA_NUM_BLANKS </td><td>unsigned long * </td><td>Number of blank values
                                               (includes masked values)
</td></tr><tr><td>FA_MIRIAD_READ_DATA_NUM_MASKED </td><td>unsigned long * </td><td>Number of masked values
</table><p><hr> <a name=FOREIGN_ATT_MIRIAD_READ><b>FOREIGN_ATT_MIRIAD_READ</b></a><p> <table><tr><td>Name                      </td><td>Type            </td><td>Meaning
</td></tr><tr><td>
</td></tr><tr><td>FA_MIRIAD_READ_END        </td><td>                </td><td>End of varargs list
</td></tr><tr><td>FA_MIRIAD_READ_NUM_BLANKS </td><td>unsigned long * </td><td>Number of blank values
                                          (includes masked values)
</td></tr><tr><td>FA_MIRIAD_READ_NUM_MASKED </td><td>unsigned long * </td><td>Number of masked values
</table><p><hr> <a name=FOREIGN_TYPES><b>FOREIGN_TYPES</b></a><p> <table><tr><td>Name                           </td><td>Meaning
</td></tr><tr><td>
</td></tr><tr><td>FOREIGN_FILE_FORMAT_KARMA      </td><td>Karma file (native format)
</td></tr><tr><td>FOREIGN_FILE_FORMAT_UNKNOWN    </td><td>Unknown format
</td></tr><tr><td>FOREIGN_FILE_FORMAT_PPM        </td><td>Portable PixMap format (PPM)
</td></tr><tr><td>FOREIGN_FILE_FORMAT_FITS       </td><td>Flexible Image Transport System (FITS)
</td></tr><tr><td>FOREIGN_FILE_FORMAT_SUNRAS     </td><td>Sun Rasterfile
</td></tr><tr><td>FOREIGN_FILE_FORMAT_MIRIAD     </td><td>Miriad Image file
</table><p><hr> <a name=FOREIGN_ATT_PPM_READ><b>FOREIGN_ATT_PPM_READ</b></a><p> <table><tr><td>Name               </td><td>Type    </td><td>Meaning
</td></tr><tr><td>
</td></tr><tr><td>FA_PPM_READ_END    </td><td>        </td><td>End of varargs list
</table><p><hr> <a name=FOREIGN_ATT_PPM_WRITE><b>FOREIGN_ATT_PPM_WRITE</b></a><p> <table><tr><td>Name                </td><td>Type    </td><td>Meaning
</td></tr><tr><td>
</td></tr><tr><td>FA_PPM_WRITE_END    </td><td>        </td><td>End of varargs list
</table><p><hr> <a name=FOREIGN_ATT_SUNRAS_READ><b>FOREIGN_ATT_SUNRAS_READ</b></a><p> <table><tr><td>Name                  </td><td>Type    </td><td>Meaning
</td></tr><tr><td>
</td></tr><tr><td>FA_SUNRAS_READ_END    </td><td>        </td><td>End of varargs list
</table><p><hr> <a name=FOREIGN_ATT_SUNRAS_WRITE><b>FOREIGN_ATT_SUNRAS_WRITE</b></a><p> <table><tr><td>Name                      </td><td>Type      </td><td>Meaning
</td></tr><tr><td>
</td></tr><tr><td>FA_SUNRAS_WRITE_END       </td><td>          </td><td>End of varargs list
</td></tr><tr><td>FA_SUNRAS_WRITE_NO_IMAGE  </td><td>flag *    </td><td>No image found in data structure
</table><p><hr><center><address>Contact: <a href="mailto:rgooch@atnf.csiro.au">Richard Gooch</a><br>Web Development: <a href="http://www.nectar.com.au/~patrick/ariel.html">Ariel Internet Services</a></address></center></body></html>
